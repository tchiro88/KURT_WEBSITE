---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Card from '@/components/ui/Card.astro';
import Badge from '@/components/ui/Badge.astro';
import { Github, Calendar, TrendingUp, CheckCircle2, Clock, ArrowLeft } from 'lucide-react';

const projects = [
  {
    id: 'export-hay-press',
    title: 'Export Hay Processing Automation',
    category: 'Control Systems Engineering',
    description: 'Complete $6M automation solution for large-scale agricultural processing facility, integrating control systems, hydraulic power management, and process optimization.',
    technologies: [
      'Rockwell ControlLogix',
      'PlantPAX',
      'Ethernet/IP',
      'HMI/SCADA',
      'Hydraulic Control',
    ],
    metrics: [
      { label: 'Project Value', value: '$6M' },
      { label: 'Efficiency Gain', value: '35%' },
      { label: 'Safety Rating', value: 'SIL 2' },
    ],
    featured: true,
    status: 'completed',
    startDate: '2023-08',
    endDate: '2024-06',
  },
  {
    id: 'abb-robot-integration',
    title: 'ABB Robot Integration & Modernization',
    category: 'Robotics & Automation',
    description: 'Complete control philosophy re-engineering for ABB robotic arm, migrating from legacy Rockwell architecture to modern integrated system.',
    technologies: [
      'ABB Robot Studio',
      'Rockwell PLC',
      'Safety PLC',
      'Protocol Gateway',
      'HMI Development',
    ],
    metrics: [
      { label: 'Cycle Time', value: '-40%' },
      { label: 'Training Time', value: '-60%' },
      { label: 'Project Value', value: '$100K' },
    ],
    featured: true,
    status: 'completed',
    startDate: '2024-01',
    endDate: '2024-04',
  },
  {
    id: 'uns-iiot-architecture',
    title: 'Unified Namespace IIoT Architecture',
    category: 'Industry 4.0 / IIoT',
    description: 'Next-generation industrial data architecture enabling seamless OT/IT integration through unified namespace methodology with AI-driven analytics.',
    technologies: [
      'Docker',
      'Node-RED',
      'HiveMQ',
      'InfluxDB',
      'Grafana',
      'PostgreSQL',
      'Ignition SCADA',
      'Sparkplug B',
      'Claude MCP',
    ],
    metrics: [
      { label: 'Data Reduction', value: '90%' },
      { label: 'Services', value: '12+' },
      { label: 'Docker Config', value: '336 lines' },
    ],
    github: 'https://github.com/tchiro88/uns-iiot-platform',
    featured: true,
    status: 'in-progress',
    startDate: '2024-06',
  },
  {
    id: 'mining-conveyor-automation',
    title: 'Tier 1 Mining Conveyor Automation',
    category: 'Mining Automation',
    description: 'Modern PLC-based control system upgrade for aging relay-based conveyor control, implementing predictive maintenance and SCADA integration.',
    technologies: [
      'Schneider Modicon',
      'Wonderware SCADA',
      'Modbus/TCP',
      'Predictive Maintenance',
    ],
    metrics: [
      { label: 'Downtime', value: '-70%' },
      { label: 'Project Value', value: '$800K' },
    ],
    featured: false,
    status: 'completed',
    startDate: '2021-03',
    endDate: '2021-11',
  },
  {
    id: 'connected-factory-platform',
    title: 'Connected Factory Data Intelligence',
    category: 'Manufacturing Intelligence',
    description: 'Comprehensive data collection and analysis platform for manufacturing intelligence using modern web technologies and AI integration.',
    technologies: [
      'Node-RED',
      'InfluxDB',
      'Grafana',
      'PostgreSQL',
      'Machine Learning',
      'RESTful API',
    ],
    metrics: [
      { label: 'Data Sources', value: '20+' },
      { label: 'Real-time', value: 'Yes' },
    ],
    github: 'https://github.com/tchiro88/connected-factory',
    featured: true,
    status: 'in-progress',
    startDate: '2024-03',
  },
];

const pageTitle = 'Projects | Kurt Adams';
const pageDescription = 'Industrial automation projects including IIoT systems, control architecture, and manufacturing solutions';
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <main class="pt-32 pb-20">
    <div class="container">
      <!-- Back to Home -->
      <a href="/" class="inline-flex items-center gap-2 text-steel-400 hover:text-primary-400 transition-colors mb-8 group">
        <ArrowLeft className="w-4 h-4 group-hover:-translate-x-1 transition-transform" />
        <span>Back to Home</span>
      </a>

      <!-- Page Header -->
      <div class="text-center mb-16 md:mb-20">
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6">
          <span class="text-gradient-full">Featured Projects</span>
        </h1>
        <p class="text-lg md:text-xl text-steel-300 max-w-3xl mx-auto">
          Comprehensive automation solutions spanning control systems, IIoT architecture, and industrial integration
        </p>
      </div>

      <!-- Projects Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
        {projects.map((project) => (
          <Card variant="glass" hover={true} className="flex flex-col h-full">
            <!-- Status Badge -->
            <div class="flex items-center justify-between mb-4">
              <Badge variant={project.status === 'completed' ? 'primary' : 'accent'} className="text-xs">
                {project.status === 'completed' ? (
                  <span class="flex items-center gap-1">
                    <CheckCircle2 className="w-3 h-3" />
                    Completed
                  </span>
                ) : (
                  <span class="flex items-center gap-1">
                    <Clock className="w-3 h-3" />
                    In Progress
                  </span>
                )}
              </Badge>
              {project.featured && (
                <Badge variant="accent" className="text-xs">Featured</Badge>
              )}
            </div>

            <!-- Category -->
            <p class="text-xs uppercase tracking-wider text-accent-400 font-mono mb-2">
              {project.category}
            </p>

            <!-- Title -->
            <h3 class="text-xl font-bold text-text-primary mb-3 group-hover:text-primary-400 transition-colors">
              {project.title}
            </h3>

            <!-- Description -->
            <p class="text-sm text-steel-300 mb-4 flex-grow">
              {project.description}
            </p>

            <!-- Metrics -->
            {project.metrics && project.metrics.length > 0 && (
              <div class="grid grid-cols-3 gap-2 mb-4 p-3 bg-steel-900/30 rounded-lg border border-steel-800/30">
                {project.metrics.map((metric) => (
                  <div class="text-center">
                    <div class="text-lg font-bold text-primary-400 font-mono">
                      {metric.value}
                    </div>
                    <div class="text-xs text-steel-400">
                      {metric.label}
                    </div>
                  </div>
                ))}
              </div>
            )}

            <!-- Technologies -->
            <div class="flex flex-wrap gap-2 mb-4">
              {project.technologies.slice(0, 4).map((tech) => (
                <span class="text-xs px-2 py-1 bg-steel-800/50 text-steel-300 rounded border border-steel-700/30">
                  {tech}
                </span>
              ))}
              {project.technologies.length > 4 && (
                <span class="text-xs px-2 py-1 bg-steel-800/50 text-accent-400 rounded border border-accent-500/30">
                  +{project.technologies.length - 4} more
                </span>
              )}
            </div>

            <!-- Footer -->
            <div class="flex items-center justify-between pt-4 border-t border-steel-800/30 mt-auto">
              <div class="flex items-center gap-2 text-xs text-steel-400">
                <Calendar className="w-3 h-3" />
                {project.startDate.split('-')[0]} - {project.endDate ? project.endDate.split('-')[0] : 'Present'}
              </div>
              {project.github && (
                <a
                  href={project.github}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="flex items-center gap-1 text-xs text-primary-400 hover:text-primary-300 transition-colors"
                >
                  <Github className="w-4 h-4" />
                  View Code
                </a>
              )}
            </div>
          </Card>
        ))}
      </div>

      <!-- CTA Section -->
      <div class="mt-20 text-center">
        <div class="glass-card inline-block">
          <h2 class="text-2xl md:text-3xl font-bold text-text-primary mb-4">
            Interested in Collaboration?
          </h2>
          <p class="text-steel-300 mb-6 max-w-2xl">
            I'm always open to discussing new automation projects, consulting opportunities, or technical partnerships.
          </p>
          <a href="/contact" class="btn-primary">
            Get In Touch
          </a>
        </div>
      </div>
    </div>
  </main>
</BaseLayout>
